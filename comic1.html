<html>

<head>
    <title>
        comic book generator
    </title>
    <link rel='stylesheet' href='comic.css'>
    <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
</head>

<body>
    <script>

        var storage = [];
        var storage2 = [];




        function generate() {




            while (true) {
                var randomNum = Math.floor((Math.random() * 10) + 1);



                if(storage.length>=10){
                    break;
                }


                if ((storage.indexOf(randomNum) === -1)) {
                    storage.push(randomNum);
                    break;
                }
                
                
            }

            localStorage.setItem("uniqueString", JSON.stringify(storage));



            var string = localStorage.getItem("uniqueString");
            storage = JSON.parse(string);





            const fetchPromise = fetch(`https://xkcd.now.sh/?comic=${randomNum}`);
            fetchPromise.then(response => {
                return response.json();
            }).then(input => {
                var img = input.img;
                document.getElementById('divimage').innerHTML = `<img src="${img}">`;
                console.log(img);
            });




        };




    </script>








    <nav class="navbar">
        <div class="top-menu">
            <div class="logo"></div>
            <div class="generator">GENERATOR</div>
            <div class="archive">ARCHIVE</div>

        </div>
    </nav>
    <div class="maincontent">
        <div> <button id="button" onclick="generate()">GENERATE</button></div>
        <div id="divimage"></div>
    </div>
</body>

</html>